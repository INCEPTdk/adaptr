<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • adaptr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">adaptr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Advanced-example.html">Advanced example</a>
    <a class="dropdown-item" href="../articles/Basic-examples.html">Basic examples</a>
    <a class="dropdown-item" href="../articles/Overview.html">Overview</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/INCEPTdk/adaptr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/INCEPTdk/adaptr/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="adaptr-120">adaptr 1.2.0<a class="anchor" aria-label="anchor" href="#adaptr-120"></a></h2>
<p>This is a minor release implementing new functionality, updating documentation, and fixing multiple minor issues, mostly in validation of supplied arguments.</p>
<div class="section level4">
<h4 id="new-features-1-2-0">New features:<a class="anchor" aria-label="anchor" href="#new-features-1-2-0"></a></h4>
<ul><li><p>Simulate follow-up (and data collection) lag: added option to have different numbers of simulated patients with outcome data available compared to the total number of simulated patients randomised at each adaptive analysis (<code>randomised_at_looks</code> argument in <code><a href="../reference/setup_trial.html">setup_trial()</a></code> family of functions). Defaults to same behaviour as previously (i.e., assuming that outcome data are immediately available following randomisation). As a consequence, <code><a href="../reference/run_trial.html">run_trial()</a></code> now always conducts a final analysis after the last adaptive analysis (including both final posterior and ‘raw’ estimates), including the outcome data of all patients randomised to all arms, regardless of how many had outcome data available at the last conducted adaptive analysis. Both sets of results are saved and printed for individual simulations; <code><a href="../reference/extract_results.html">extract_results()</a></code>, the <code><a href="../reference/summary.html">summary()</a></code> and the <code><a href="../reference/print.html">print()</a></code> methods for multiple simulations have gained the additional argument <code>final_ests</code> that controls whether the results from this final analysis or from the last relevant adaptive analysis including each arm are used when calculating some performance metrics (defaults are set to ensure backwards compatibility and otherwise use the final estimates in situations where not all patients are included in the final adaptive analysis). An example has been added to the <code>Basic examples</code> vignette illustrating the use of this argument.</p></li>
<li><p>Updated <code><a href="../reference/plot_history.html">plot_history()</a></code> and <code><a href="../reference/plot_status.html">plot_status()</a></code> to add the possibility to plot different metrics according to the number of patients randomised as specified by the the new <code>randomised_at_looks</code> argument to the <code><a href="../reference/setup_trial.html">setup_trial()</a></code> functions as described above.</p></li>
<li><p>Added the <code><a href="../reference/update_saved_trials.html">update_saved_trials()</a></code> function, which ‘updates’ multiple trial simulation objects saved by <code><a href="../reference/run_trials.html">run_trials()</a></code> using previous versions of <code>adaptr</code>. This reformats the objects to work with the updated functions. Not all values can be added to previously saved simulation results without re-running; these values will be replaced with <code>NA</code>s, and - if used - may lead to printing or plotting of missing values. However, the function allows re-use of the same data from previous simulations without having to re-run them (mostly relevant for time-consuming simulations). <strong>Important:</strong> please notice that other objects (i.e., objects returned from the <code><a href="../reference/setup_trial.html">setup_trial()</a></code> family of functions and single simulations returned by <code><a href="../reference/run_trial.html">run_trial()</a></code>) may create problems or errors with some functions if created by previous versions of the package and manually reloaded; these objects will have to be updated by re-running the code using the newest version of the package. Similarly, manually reloaded results from <code><a href="../reference/run_trials.html">run_trials()</a></code> that are not updated using this function may cause errors/problems when used.</p></li>
<li><p>Added the <code><a href="../reference/check_performance.html">check_performance()</a></code> function (and a corresponding <code><a href="../reference/print.html">print()</a></code> method) which calculates performance metrics and can be used to calculate uncertainty measures using non-parametric bootstrapping. This function is now used internally by the <code><a href="../reference/summary.html">summary()</a></code> method for multiple trial objects.</p></li>
<li><p>Added the <code><a href="../reference/plot_convergence.html">plot_convergence()</a></code> function which plots performance metrics according to the number of simulations conducted for multiple simulated trials (possibly after splitting the simulations into batches), used to assess stability of performance metrics.</p></li>
<li><p>Added the possibility to define different probability thresholds for different adaptive analyses to the <code>setup_trials()</code> family of functions (for inferiority, superiority, equivalence, and futility probability thresholds), with according updates in <code><a href="../reference/run_trial.html">run_trial()</a></code> and the <code><a href="../reference/print.html">print()</a></code> method for trial specifications.</p></li>
<li><p>Updated <code><a href="../reference/plot_status.html">plot_status()</a></code>; multiple arms may now simultaneously be plotted by specifying more than one valid arm or <code>NA</code> (which lead to statuses for all arms being plotted) in the <code>arm</code> argument. In addition, <code>arm</code> name(s) are now always included on the plots.</p></li>
</ul></div>
<div class="section level4">
<h4 id="documentation-bug-fixes-and-other-changes-1-2-0">Documentation, bug fixes, and other changes:<a class="anchor" aria-label="anchor" href="#documentation-bug-fixes-and-other-changes-1-2-0"></a></h4>
<ul><li><p>Added reference to open access article describing key methodological considerations in adaptive clinical trials using adaptive stopping, arm dropping, and randomisation to the package documentation (<a href="https://doi.org/10.1016/j.jclinepi.2022.11.002" class="external-link uri">https://doi.org/10.1016/j.jclinepi.2022.11.002</a>).</p></li>
<li><p>The proportion of conclusive trials when restricting the trials summarised (in <code><a href="../reference/extract_results.html">extract_results()</a></code>) may now be calculated by the <code><a href="../reference/summary.html">summary()</a></code> method for multiple trial simulations and by the new <code><a href="../reference/check_performance.html">check_performance()</a></code> function, even if this measure may be difficult to interpret when the trials summarised is restricted.</p></li>
<li><p>Minor fixes, updates, and added clarification to the documentation in multiple places, including in vignettes, which have also been updated to illustrate some of the new functions added.</p></li>
<li><p>Minor fix to <code><a href="../reference/print.html">print()</a></code> method for individual trial results, which did not correctly print additional information about trials.</p></li>
<li><p>Fixed a bug where the same number of patients included could be used for subsequent <code>data_looks</code> in the <code><a href="../reference/setup_trial.html">setup_trial()</a></code> family of functions; this now produces an error.</p></li>
<li><p>Added internal <code><a href="../reference/vapply_helpers.html">vapply_lgl()</a></code> helper function; the internal <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply()</a></code> helper functions are now used consistently to simplify the code.</p></li>
<li><p>Added multiple internal (non-exported) helper functions to simplify code throughout the package: <code><a href="../reference/stop0_warning0.html">stop0()</a></code>, <code><a href="../reference/stop0_warning0.html">warning0()</a></code>, <code>%f|%</code>, and <code><a href="../reference/summarise_num.html">summarise_num()</a></code>.</p></li>
<li><p>Added <code>names = FALSE</code> argument to <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile()</a></code> calls in the <code><a href="../reference/summary.html">summary()</a></code> method for <code>trial_results</code> objects to avoid unnecessary naming of some components if they are subsequently extracted from the returned object.</p></li>
<li><p>Ideal design percentages may be calculated as <code>NaN</code>, <code>Inf</code> or <code>-Inf</code> in scenarios with no differences; these are now all converted to <code>NA</code> before being returned by the various functions.</p></li>
<li><p>Minor edits/clarifications to several errors/warnings/messages.</p></li>
<li><p>Minor fix to internal <code><a href="../reference/verify_int.html">verify_int()</a></code> function; when supplied with, e.g., a character vector, execution was stopped with an error instead of returning <code>FALSE</code>, as needed to print the proper error messages after checks.</p></li>
<li><p>Minor fix to <code><a href="../reference/plot_status.html">plot_status()</a></code>, where the upper area (representing trials/arms still recruiting) was sometimes erroneously not plotted due to a floating point issue where the summed proportions could sometimes slightly exceed 1.</p></li>
<li><p>Added additional tests to test increase coverage of existing and new functions.</p></li>
<li><p>Minor fix in internal <code><a href="../reference/reallocate_probs.html">reallocate_probs()</a></code> function, when <code>"match"</code>-ing control arm allocation to the highest probability in a non-control arm and if all probabilities were initially 0, the returned vector lacked names, which have now been added.</p></li>
<li><p>Minor fixes to internal <code><a href="../reference/validate_trial.html">validate_trial()</a></code> function in order to: not give an error when multiple values were supplied to the <code>control_prob_fixed</code> argument; and to give the correct error when multiple values were provided to <code>equivalence_diff</code> or <code>futility_diff</code>; and to give an error when <code>NA</code> was supplied to <code>futility_only_first</code>; and to add some tolerance to the checks of <code>data_looks</code> and <code>randomised_at_looks</code> to avoid errors due to floating point imprecision when specified using multiplication or similar; and correct errors if decimal numbers for patient count arguments were supplied; and additional minor updates to errors/messages.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.1" id="adaptr-111">adaptr 1.1.1<a class="anchor" aria-label="anchor" href="#adaptr-111"></a></h2><p class="text-muted">CRAN release: 2022-08-16</p>
<p>This is a patch release triggered by a CRAN request for updates.</p>
<ul><li><p>Minor formatting changes to the <code>adaptr-package</code> help page to comply with CRAN request to only use HTML5 (as used by R &gt;=4.2.0).</p></li>
<li><p>Minor bug fixes in <code><a href="../reference/print.html">print()</a></code> methods for trial specifications and summaries of multiple trial results.</p></li>
<li><p>Minor updates in messages in <code><a href="../reference/setup_trial.html">setup_trial()</a></code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="adaptr-110">adaptr 1.1.0<a class="anchor" aria-label="anchor" href="#adaptr-110"></a></h2><p class="text-muted">CRAN release: 2022-06-17</p>
<p>Minor release:</p>
<ul><li><p>Updates to the <code><a href="../reference/run_trials.html">run_trials()</a></code> function to allow exporting objects to clusters when running simulations on multiple cores.</p></li>
<li><p>Updates to internal function <code><a href="../reference/verify_int.html">verify_int()</a></code> due to updates in R &gt;= 4.2.0, to avoid incorrect error messages in future versions due to changed behaviour with the <code>&amp;&amp;</code> function when used with arguments with length &gt; 1 (<a href="https://stat.ethz.ch/pipermail/r-announce/2022/000683.html" class="external-link uri">https://stat.ethz.ch/pipermail/r-announce/2022/000683.html</a>).</p></li>
<li><p>Minor documentation edits and updated citation info (reference to software paper published in Journal of Open Source Software, <a href="https://doi.org/10.21105/joss.04284" class="external-link uri">https://doi.org/10.21105/joss.04284</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="adaptr-100">adaptr 1.0.0<a class="anchor" aria-label="anchor" href="#adaptr-100"></a></h2><p class="text-muted">CRAN release: 2022-03-15</p>
<ul><li>First release.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Anders Granholm, Benjamin Skov Kaas-Hansen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

