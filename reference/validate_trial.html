<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Used internally. Validates the inputs common to all trial specifications, as
specified in setup_trial(), setup_trial_binom() and setup_trial_norm()."><title>Validate trial specification — validate_trial • adaptr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Validate trial specification — validate_trial"><meta property="og:description" content="Used internally. Validates the inputs common to all trial specifications, as
specified in setup_trial(), setup_trial_binom() and setup_trial_norm()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">adaptr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Overview.html">Overview</a>
    <a class="dropdown-item" href="../articles/Basic-examples.html">Basic examples</a>
    <a class="dropdown-item" href="../articles/Advanced-example.html">Advanced example</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/INCEPTdk/adaptr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Validate trial specification</h1>
      <small class="dont-index">Source: <a href="https://github.com/INCEPTdk/adaptr/blob/HEAD/R/setup_trial.R" class="external-link"><code>R/setup_trial.R</code></a></small>
      <div class="d-none name"><code>validate_trial.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Used internally. Validates the inputs common to all trial specifications, as
specified in <code><a href="setup_trial.html">setup_trial()</a></code>, <code><a href="setup_trial_binom.html">setup_trial_binom()</a></code> and <code><a href="setup_trial_norm.html">setup_trial_norm()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">validate_trial</span><span class="op">(</span></span>
<span>  <span class="va">arms</span>,</span>
<span>  <span class="va">true_ys</span>,</span>
<span>  start_probs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fixed_probs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min_probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">arms</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  max_probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">arms</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  rescale_probs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data_looks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_n <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  look_after_every <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  randomised_at_looks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  control <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  control_prob_fixed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  inferiority <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  superiority <span class="op">=</span> <span class="fl">0.99</span>,</span>
<span>  equivalence_prob <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  equivalence_diff <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  equivalence_only_first <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  futility_prob <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  futility_diff <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  futility_only_first <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  highest_is_best <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  soften_power <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  cri_width <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  n_draws <span class="op">=</span> <span class="fl">5000</span>,</span>
<span>  robust <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  description <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_info <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">fun_y_gen</span>,</span>
<span>  <span class="va">fun_draws</span>,</span>
<span>  <span class="va">fun_raw_est</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>arms</dt>
<dd><p>character vector with unique names for the trial arms.</p></dd>


<dt>true_ys</dt>
<dd><p>numeric vector specifying true outcomes (e.g., event
probabilities, mean values, etc.) for all trial <code>arms</code>.</p></dd>


<dt>start_probs</dt>
<dd><p>numeric vector, allocation probabilities for each arm at
the beginning of the trial. The default (<code>NULL</code>) automatically generates
equal randomisation probabilities for each arm.</p></dd>


<dt>fixed_probs</dt>
<dd><p>numeric vector, fixed allocation probabilities for each
arm. Must be either a numeric vector with <code>NA</code> for arms without fixed
probabilities and values between <code>0</code> and <code>1</code> for the other arms or <code>NULL</code>
(default), if adaptive randomisation is used for all arms or if one of the
special settings (<code>"sqrt-based"</code>, <code>"sqrt-based start"</code>,
<code>"sqrt-based fixed"</code>, or <code>"match"</code>) is specified for <code>control_prob_fixed</code>
(described below).</p></dd>


<dt>min_probs</dt>
<dd><p>numeric vector, lower threshold for adaptive allocation
probabilities; lower probabilities will be rounded up to these values. Must
be <code>NA</code> (default for all arms) if no lower threshold is wanted and for arms
using fixed allocation probabilities.</p></dd>


<dt>max_probs</dt>
<dd><p>numeric vector, upper threshold for adaptive allocation
probabilities; higher probabilities will be rounded down to these values.
Must be <code>NA</code> (default for all arms) if no threshold is wanted and for arms
using fixed allocation probabilities.</p></dd>


<dt>rescale_probs</dt>
<dd><p><code>NULL</code> (default) or one of either <code>"fixed"</code>, <code>"limits"</code>,
or <code>"both"</code>. Rescales <code>fixed_probs</code> (if <code>"fixed"</code> or <code>"both"</code>) and
<code>min_probs/max_probs</code> (if <code>"limits"</code> or <code>"both"</code>) after arm dropping in
trial specifications with <code>&gt;2 arms</code> using a <code>rescale_factor</code> defined as
<code>initial number of arms/number of active arms</code>. <code>"fixed_probs</code> and
<code>min_probs</code> are rescaled as <code>initial value * rescale factor</code>, except for
<code>fixed_probs</code> controlled by the <code>control_prob_fixed</code> argument, which are
never rescaled. <code>max_probs</code> are rescaled as
<code>1 - ( (1 - initial value) * rescale_factor)</code>.<br>
Must be <code>NULL</code> if there are only <code>2 arms</code> or if <code>control_prob_fixed</code> is
<code>"sqrt-based fixed"</code>. If not <code>NULL</code>, one or more valid non-<code>NA</code> values must
be specified for either <code>min_probs/max_probs</code> or <code>fixed_probs</code> (not
counting a fixed value for the original <code>control</code> if <code>control_prob_fixed</code>
is <code>"sqrt-based"/"sqrt-based start"/"sqrt-based fixed"</code>).<br><strong>Note:</strong> using this argument and specific combinations of values in
the other arguments may lead to invalid combined (total) allocation
probabilities after arm dropping, in which case all probabilities will
ultimately be rescaled to sum to <code>1</code>. It is the responsibility of the user
to ensure that rescaling fixed allocation probabilities and minimum/maximum
allocation probability limits will not lead to invalid or unexpected
allocation probabilities after arm dropping.<br>
Finally, any initial values that are overwritten by the
<code>control_prob_fixed</code> argument after arm dropping will not be rescaled.</p></dd>


<dt>data_looks</dt>
<dd><p>vector of increasing integers, specifies when to conduct
adaptive analyses (= the total number of patients with available outcome
data at each adaptive analysis). The last number in the vector represents
the final adaptive analysis, i.e., the final analysis where superiority,
inferiority, practical equivalence, or futility can be claimed.
Instead of specifying <code>data_looks</code>, the <code>max_n</code> and <code>look_after_every</code>
arguments can be used in combination (in which case <code>data_looks</code> must be
<code>NULL</code>, the default value).</p></dd>


<dt>max_n</dt>
<dd><p>single integer, number of patients with available outcome data
at the last possible adaptive analysis (defaults to <code>NULL</code>).
Must only be specified if <code>data_looks</code> is <code>NULL</code>. Requires specification of
the <code>look_after_every</code> argument.</p></dd>


<dt>look_after_every</dt>
<dd><p>single integer, specified together with <code>max_n</code>.
Adaptive analyses will be conducted after every <code>look_after_every</code>
patients have available outcome data, and at the total sample size as
specified by <code>max_n</code> (<code>max_n</code> does not need to be a multiple of
<code>look_after_every</code>). If specified, <code>data_looks</code> must be <code>NULL</code> (default).</p></dd>


<dt>randomised_at_looks</dt>
<dd><p>vector of increasing integers or <code>NULL</code>,
specifying the number of patients randomised at the time of each adaptive
analysis, with new patients randomised using the current allocation
probabilities at said analysis.
If <code>NULL</code> (the default), the number of patients randomised at each analysis
will match the number of patients with available outcome data at said
analysis, as specified by <code>data_looks</code> or <code>max_n</code> and <code>look_after_every</code>,
i.e., outcome data will be available immediately after randomisation for
all patients.<br>
If not <code>NULL</code>, the vector must be of the same length as the number of
adaptive analyses specified by <code>data_looks</code> or <code>max_n</code> and
<code>look_after_every</code>, and all values must be larger than or equal to the
number of patients with available outcome data at each analysis.</p></dd>


<dt>control</dt>
<dd><p>single character string, name of one of the <code>arms</code> or <code>NULL</code>
(default). If specified, this arm will serve as a common control arm, to
which all other arms will be compared and the
inferiority/superiority/equivalence thresholds (see below) will be for
those comparisons. See <code><a href="setup_trial.html">setup_trial()</a></code> <strong>Details</strong> for information on
behaviour with respect to these comparisons.</p></dd>


<dt>control_prob_fixed</dt>
<dd><p>if a common <code>control</code> arm is specified, this can
be set <code>NULL</code> (the default), in which case the control arm allocation
probability will not be fixed if control arms change (the allocation
probability for the first control arm may still be fixed using
<code>fixed_probs</code>, but will not be 'reused' for the new control arm).<br>
If not <code>NULL</code>, a vector of probabilities of either length <code>1</code> or
<code>number of arms - 1</code> can be provided, or one of the special arguments
<code>"sqrt-based"</code>, <code>"sqrt-based start"</code>, <code>"sqrt-based fixed"</code> or <code>"match"</code>.<br>
See <code><a href="setup_trial.html">setup_trial()</a></code> <strong>Details</strong> for details on how this affects
trial behaviour.</p></dd>


<dt>inferiority</dt>
<dd><p>single numeric value or vector of numeric values of the
same length as the maximum number of possible adaptive analyses, specifying
the probability threshold(s) for inferiority (default is <code>0.01</code>). All
values must be <code>&gt;= 0</code> and <code>&lt;= 1</code>, and if multiple values are supplied, no
values may be lower than the preceding value. If a common <code>control</code>is not
used, all values must be <code>&lt; 1 / number of arms</code>. An arm will be considered
inferior and dropped if the probability that it is best (when comparing all
arms) or better than the control arm (when a common <code>control</code> is used)
drops below the inferiority threshold at an adaptive analysis.</p></dd>


<dt>superiority</dt>
<dd><p>single numeric value or vector of numeric values of the
same length as the maximum number of possible adaptive analyses, specifying
the probability threshold(s) for superiority (default is <code>0.99</code>). All
values must be <code>&gt;= 0</code> and <code>&lt;= 1</code>, and if multiple values are supplied, no
values may be higher than the preceding value. If the probability that an
arm is best (when comparing all arms) or better than the control arm (when
a common <code>control</code> is used) exceeds the superiority threshold at an
adaptive analysis, said arm will be declared the winner and the trial will
be stopped (if no common <code>control</code> is used or if the last comparator is
dropped in a design with a common control) <em>or</em> become the new control and
the trial will continue (if a common control is specified).</p></dd>


<dt>equivalence_prob</dt>
<dd><p>single numeric value, vector of numeric values of the
same length as the maximum number of possible adaptive analyses or <code>NULL</code>
(default, corresponding to no equivalence assessment), specifying the
probability threshold(s) for equivalence. If not <code>NULL</code>, all values must be
<code>&gt; 0</code> and <code>&lt;= 1</code>, and if multiple values are supplied, no value may be
higher than the preceding value. If not <code>NULL</code>, arms will be dropped for
equivalence if the probability of either <em>(a)</em> equivalence compared to a
common <code>control</code> or <em>(b)</em> equivalence between all arms remaining (designs
without a common <code>control</code>) exceeds the equivalence threshold at an
adaptive analysis. Requires specification of <code>equivalence_diff</code> and
<code>equivalence_only_first</code>.</p></dd>


<dt>equivalence_diff</dt>
<dd><p>single numeric value (<code>&gt; 0</code>) or <code>NULL</code> (default,
corresponding to no equivalence assessment). If a numeric value is
specified, estimated absolute differences smaller than this threshold will
be considered equivalent. For designs with a common <code>control</code> arm, the
differences between each non-control arm and the <code>control</code> arm is used, and
for trials without a common <code>control</code> arm, the difference between the
highest and lowest estimated outcome rates are used and the trial is only
stopped for equivalence if all remaining arms are equivalent.</p></dd>


<dt>equivalence_only_first</dt>
<dd><p>single logical in trial specifications where
<code>equivalence_prob</code> and <code>equivalence_diff</code> are specified and a common
<code>control</code> arm is included, otherwise <code>NULL</code> (default). If a common
<code>control</code> arm is used, this specifies whether equivalence will only be
assessed for the first control (if <code>TRUE</code>) or also for subsequent <code>control</code>
arms (if <code>FALSE</code>) if one arm is superior to the first control and becomes
the new control.</p></dd>


<dt>futility_prob</dt>
<dd><p>single numeric value, vector of numeric values of the
same length as the maximum number of possible adaptive analyses or <code>NULL</code>
(default, corresponding to no futility assessment), specifying the
probability threshold(s) for futility. All values must be <code>&gt; 0</code> and <code>&lt;= 1</code>,
and if multiple values are supplied, no value may be higher than the
preceding value. If not <code>NULL</code>, arms will be dropped for futility if
the probability for futility compared to the common <code>control</code> exceeds the
futility threshold at an adaptive analysis. Requires a common <code>control</code>
arm (otherwise this argument must be <code>NULL</code>), specification of
<code>futility_diff</code>, and <code>futility_only_first</code>.</p></dd>


<dt>futility_diff</dt>
<dd><p>single numeric value (<code>&gt; 0</code>) or <code>NULL</code> (default,
corresponding to no futility assessment). If a numeric value is specified,
estimated differences below this threshold in the <em>beneficial</em> direction
(as specified in <code>highest_is_best</code>) will be considered futile when
assessing futility in designs with a common <code>control</code> arm. If only 1 arm
remains after dropping arms for futility, the trial will be stopped without
declaring the last arm superior.</p></dd>


<dt>futility_only_first</dt>
<dd><p>single logical in trial specifications designs
where <code>futility_prob</code> and <code>futility_diff</code> are specified, otherwise <code>NULL</code>
(default and required in designs without a common <code>control</code> arm).
Specifies whether futility will only be assessed against the first
<code>control</code> (if <code>TRUE</code>) or also for subsequent control arms (if <code>FALSE</code>) if
one arm is superior to the first control and becomes the new control.</p></dd>


<dt>highest_is_best</dt>
<dd><p>single logical, specifies whether larger estimates of
the outcome are favourable or not; defaults to <code>FALSE</code>, corresponding to,
e.g., an undesirable binary outcomes (e.g., mortality) or a continuous
outcome where lower numbers are preferred (e.g., hospital length of stay).</p></dd>


<dt>soften_power</dt>
<dd><p>either a single numeric value or a numeric vector of
exactly the same length as the maximum number of looks/adaptive analyses.
Values must be between <code>0</code> and <code>1</code> (default); if <code>&lt; 1</code>, then re-allocated
non-fixed allocation probabilities are all raised to this power (followed
by rescaling to sum to <code>1</code>) to make adaptive allocation probabilities
less extreme, in turn used to redistribute remaining probability while
respecting limits when defined by <code>min_probs</code> and/or <code>max_probs</code>. If <code>1</code>,
then no <em>softening</em> is applied.</p></dd>


<dt>cri_width</dt>
<dd><p>single numeric <code>&gt;= 0</code> and <code>&lt; 1</code>, the width of the
percentile-based credible intervals used when summarising individual trial
results. Defaults to <code>0.95</code>, corresponding to 95% credible intervals.</p></dd>


<dt>n_draws</dt>
<dd><p>single integer, the number of draws from the posterior
distributions for each arm used when running the trial. Defaults to
<code>5000</code>; can be reduced for a speed gain (at the potential loss of stability
of results if too low) or increased for increased precision (increasing
simulation time). Values <code>&lt; 100</code> are not allowed and values <code>&lt; 1000</code> are
not recommended and warned against.</p></dd>


<dt>robust</dt>
<dd><p>single logical, if <code>TRUE</code> (default) the medians and median
absolute deviations (scaled to be comparable to the standard deviation for
normal distributions; MAD_SDs, see <code><a href="https://rdrr.io/r/stats/mad.html" class="external-link">stats::mad()</a></code>) are used to summarise
the posterior distributions; if <code>FALSE</code>, the means and standard deviations
(SDs) are used instead (slightly faster, but may be less appropriate for
posteriors skewed on the natural scale).</p></dd>


<dt>description</dt>
<dd><p>optional single character string describing the trial
design, will only be used in print functions if not <code>NULL</code> (the default).</p></dd>


<dt>add_info</dt>
<dd><p>optional single string containing additional information
regarding the trial design or specifications, will only be used in print
functions if not <code>NULL</code> (the default).</p></dd>


<dt>fun_y_gen</dt>
<dd><p>function, generates outcomes. See <code><a href="setup_trial.html">setup_trial()</a></code>
<strong>Details</strong> for information on how to specify this function.<br><strong>Note:</strong> this function is called once during setup to validate its output
(with the global random seed restored afterwards).</p></dd>


<dt>fun_draws</dt>
<dd><p>function, generates posterior draws. See <code><a href="setup_trial.html">setup_trial()</a></code>
<strong>Details</strong> for information on how to specify this function.<br><strong>Note:</strong> this function is called up to three times during setup to
validate its output (with the global random seed restored afterwards).</p></dd>


<dt>fun_raw_est</dt>
<dd><p>function that takes a numeric vector and returns a
single numeric value, used to calculate a raw summary estimate of the
outcomes in each <code>arm</code>. Defaults to <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>, which is always used in the
<code><a href="setup_trial_binom.html">setup_trial_binom()</a></code> and <code><a href="setup_trial_norm.html">setup_trial_norm()</a></code> functions.<br><strong>Note:</strong> the function is called one time per arm during setup to validate
the output structure.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>trial_spec</code> containing the validated trial
specification.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anders Granholm, Benjamin Skov Kaas-Hansen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

